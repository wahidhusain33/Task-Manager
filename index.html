<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <link rel="stylesheet" href="index.css">
</head>

<body>

  <div id="myDIV" class="header">
    <h2 style="margin:5px">Create New Tasks</h2>
    <div class="input_div">

      <input type="text" class="input" placeholder="The task is ..">
    </div>
    <button type="button" name="button" class="addButton">Add Task</button>
  </div>
  <div class="">
    <h2>ToDo List</h2>
    <div id="container">
      <!-- <div class="item">
      </div> -->
    </div>
  </div>
  <div class="">
    <h2>Completed Tasks</h2>
    <div id="container2">

    </div>
    <!-- <input type="checkbox" name="" value=""> -->

  </div>

  <script>
    var inputValue = document.querySelector("input"); // take value or task from input text
    // console.log(inputValue.value);
    const addButton = document.querySelector('.addButton');
    // const container = document.getElementsByClassName('container');

    class item {
      // constructor to call createDiv() with task input
      constructor(itemName) {
        this.createDiv(itemName);
      }
      // defination of createDiv()
      createDiv(itemName) {
        // create itemBox for taasks
        let itemBox = document.createElement('div');
        itemBox.classList.add('item');

        // create checkbox for task
        let inputClick = document.createElement('input');
        inputClick.type = 'checkbox';
        inputClick.checked = false;

        let p = document.createElement('span');
        p.innerHTML = itemName;

        let input = document.createElement('input');
        input.value = itemName;
        input.disabled = true;
        input.classList.add('item_input');
        input.type = 'text';

        // edit button for editing the task
        let editButton = document.createElement('button');
        editButton.innerHTML = "edit";
        // editButton.classList.add('editButton');
        // removeButton for removing the task
        let removeButton = document.createElement('button');
        removeButton.innerHTML = "Delete";
        removeButton.classList.add('removeButton');
        // add input, editButton, removeButton in itemBox div
        // itemBox.appendChild(com);
        itemBox.appendChild(inputClick);
        itemBox.appendChild(p);
        itemBox.appendChild(input);
        itemBox.appendChild(editButton);
        itemBox.appendChild(removeButton);

        // add itemBox in div container
        container.appendChild(itemBox);

        // apply addEventListener with function edit passing parameter as input
        editButton.addEventListener("click", () => {
          this.edit(input,p);
        });
        //apply addEventListener on remove button
        removeButton.addEventListener("click", () => {
          this.remove(itemBox);
        });

        inputClick.addEventListener("click", () => {
          this.completedTask(itemBox);
        })
        inputClick.addEventListener("click", () => {
          this.completedTask(inputClick,itemBox);
        })

      }
      edit(input,p) {
        input.disabled = !input.disabled;
        p.innerHTML = input.value;
      }
      remove(itemBox) {
        container.removeChild(itemBox);
      }
      completedTask(inputClick,itemBox) {
        if(inputClick.checked==true){

          container.removeChild(itemBox);
          container2.appendChild(itemBox);
        }
        else{
          if(inputClick.checked==false){

            container2.removeChild(itemBox);
            container.appendChild(itemBox);
          }
        }
      }
    }

    // new item("5984651");
    addButton.addEventListener("click", function() {
      if (inputValue.value != "") {
        new item(inputValue.value);
        inputValue.value = "";
      } else {
        alert("Kindly Enter The Task");

        window.location.reload();
      }
    });
  </script>
</body>

</html>
